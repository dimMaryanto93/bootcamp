---
layout: post
title: "Data Manipulation Language (DML) di PostgreSQL"
date: 2019-12-29T19:15:00+07:00
lang: psql
categories:
- RDBMS
- PostgreSQL
refs: 
- https://www.postgresql.org/docs/9.2/dml.html
youtube: https://www.youtube.com/watch?v=S4CrEAgfLz0&list=PLV1-tdmPblvypZXSk2GC932nludT345xk&index=23
comments: true
---

Data Manipulation atau singkatan dari DML yaitu sebuah statement yang digunakan untuk memanipulasi data dalam sebuah tabel di Database. Perintah DML terdiri dari 3 bagian yaitu

1. Insert Data
2. Update Data
3. Delete Data

## Insert Data

Ketika tabel telah terbuat, biasanya tidak ada data yang tersedia di dalam tabel tersebut. Untuk mengisi datanya kita harus menjalankan perintah insert atau selain itu kita juga bisa menggunakan fitur backup/restore database, tpi fitur backup/restore tidak akan saya jelaskan di materi bootcamp sekarang. Jadi kita fokus ke materi dml dulu.

Format penulisan insert statement yaitu sebagai berikut:

```sql
INSERT INTO table_name (column1, column2, ...)
VALUES (<value1>, <value2>, <value3>, ...);
```

Contoh penggunaanya adalah sebagai berikut, contohnya saya menambahkan data baru ke table `regions` dengan data seperti berikut:

| region_id |      region_name       |
|-----------+------------------------|
|         5 | Asia Tenggara          |

Maka berikut querynya:

```sql
INSERT INTO regions (region_name) VALUES ('Asia Tenggara ');
```

berikut hasilnya:

```postgresql-console
bootcamp=# INSERT INTO regions (region_name) VALUES ('Asia Tenggara');
INSERT 0 1

bootcamp=# select * from regions;
 region_id |      region_name       
-----------+------------------------
         1 | Europe
         2 | Americas
         3 | Asia
         4 | Middle East and Africa
         5 | Asia Tenggara
(5 rows)

bootcamp=# 
```

## Update Data

Perintah update data, biasanya kita melakukan modifikasi data terhadap beberapa column dalam sebuah tabel di Database dengan / tanpa menggunakan where klausa.

Format penulisan update statement yaitu sebagai berikut:

```sql
UPDATE table_name SET 
    column_update1 = <value1>, 
    column_update2 = <value2>
WHERE column_key = <valueKey>
```

Contoh penggunaanya adalah sebagai berikut, contohnya saya mau update data pada table `regions` kolom `region_name` yang valuenya `Asia Tenggara` menjadi `Oceania`, maka berikut querynya:

```sql
UPDATE regions 
SET region_name = 'Oceania'
WHERE region_id = 5;
```

berikut hasilnya:

```postgresql-console
bootcamp=# UPDATE regions 
bootcamp-# SET region_name = 'Oceania'
bootcamp-# WHERE region_id = 5;
UPDATE 1

bootcamp=# select * from regions;
 region_id |      region_name       
-----------+------------------------
         2 | Americas
         3 | Asia
         4 | Middle East and Africa
         1 | Europe
         5 | Oceania
(5 rows)

bootcamp=# 
```

**Note** jika kita tidak menggunakan where klausa, maka semua data akan terupdate!!

## Delete Data

Perintah delete data, biasanya kita gunakan untuk menghapus data dari table tertentu dengan / tanpa menggukanan where klausa.

Format penulisan delete statement yaitu seperti berikut:

```sql
DELETE FROM table_name 
WHERE column_key = <valueKey>
```

Contoh penggunaanya adalah sebagai berikut, contohnya saya mau menghapus data yang telah saya insert tadi, yaitu dengan `region_id = 5`, maka berikut querynya:

```sql
delete from regions
where region_id = 5;
```

berikut hasilnya:

```postgresql-console
bootcamp=# delete from regions
where region_id = 5;
DELETE 1

bootcamp=# select * from regions;
 region_id |      region_name       
-----------+------------------------
         2 | Americas
         3 | Asia
         4 | Middle East and Africa
         1 | Europe
(4 rows)
```

**Note** jika kita tidak menggunakan where klausa, maka semua data akan terhapus!!